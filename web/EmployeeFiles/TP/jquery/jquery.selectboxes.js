/* 
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

(function(e){e.fn.addOption=function(){var e=function(e,t,n,r){var i=document.createElement("option");i.value=t,i.text=n;var s=e.options;var o=s.length;if(!e.cache){e.cache={};for(var u=0;u<o;u++){e.cache[s[u].value]=u}}if(typeof e.cache[t]=="undefined")e.cache[t]=o;e.options[e.cache[t]]=i;if(r){i.selected=true}};var t=arguments;if(t.length==0)return this;var n=true;var r=false;var i,s,o;if(typeof t[0]=="object"){r=true;i=t[0]}if(t.length>=2){if(typeof t[1]=="boolean")n=t[1];else if(typeof t[2]=="boolean")n=t[2];if(!r){s=t[0];o=t[1]}}this.each(function(){if(this.nodeName.toLowerCase()!="select")return;if(r){for(var t in i){e(this,t,i[t],n)}}else{e(this,s,o,n)}});return this};e.fn.ajaxAddOption=function(t,n,r,i,s){if(typeof t!="string")return this;if(typeof n!="object")n={};if(typeof r!="boolean")r=true;this.each(function(){var o=this;e.getJSON(t,n,function(t){e(o).addOption(t,r);if(typeof i=="function"){if(typeof s=="object"){i.apply(o,s)}else{i.call(o)}}})});return this};e.fn.removeOption=function(){var e=arguments;if(e.length==0)return this;var t=typeof e[0];var n,r;if(t=="string"||t=="object"||t=="function"){n=e[0];if(n.constructor==Array){var i=n.length;for(var s=0;s<i;s++){this.removeOption(n[s],e[1])}return this}}else if(t=="number")r=e[0];else return this;this.each(function(){if(this.nodeName.toLowerCase()!="select")return;if(this.cache)this.cache=null;var t=false;var i=this.options;if(!!n){var s=i.length;for(var o=s-1;o>=0;o--){if(n.constructor==RegExp){if(i[o].value.match(n)){t=true}}else if(i[o].value==n){t=true}if(t&&e[1]===true)t=i[o].selected;if(t){i[o]=null}t=false}}else{if(e[1]===true){t=i[r].selected}else{t=true}if(t){this.remove(r)}}});return this};e.fn.sortOptions=function(t){var n=e(this).selectedValues();var r=typeof t=="undefined"?true:!!t;this.each(function(){if(this.nodeName.toLowerCase()!="select")return;var e=this.options;var t=e.length;var n=[];for(var i=0;i<t;i++){n[i]={v:e[i].value,t:e[i].text}}n.sort(function(e,t){o1t=e.t.toLowerCase(),o2t=t.t.toLowerCase();if(o1t==o2t)return 0;if(r){return o1t<o2t?-1:1}else{return o1t>o2t?-1:1}});for(var i=0;i<t;i++){e[i].text=n[i].t;e[i].value=n[i].v}}).selectOptions(n,true);return this};e.fn.selectOptions=function(t,n){var r=t;var i=typeof t;if(i=="object"&&r.constructor==Array){var s=this;e.each(r,function(){s.selectOptions(this,n)})}var o=n||false;if(i!="string"&&i!="function"&&i!="object")return this;this.each(function(){if(this.nodeName.toLowerCase()!="select")return this;var e=this.options;var t=e.length;for(var n=0;n<t;n++){if(r.constructor==RegExp){if(e[n].value.match(r)){e[n].selected=true}else if(o){e[n].selected=false}}else{if(e[n].value==r){e[n].selected=true}else if(o){e[n].selected=false}}}});return this};e.fn.copyOptions=function(t,n){var r=n||"selected";if(e(t).size()==0)return this;this.each(function(){if(this.nodeName.toLowerCase()!="select")return this;var n=this.options;var i=n.length;for(var s=0;s<i;s++){if(r=="all"||r=="selected"&&n[s].selected){e(t).addOption(n[s].value,n[s].text)}}});return this};e.fn.containsOption=function(e,t){var n=false;var r=e;var i=typeof r;var s=typeof t;if(i!="string"&&i!="function"&&i!="object")return s=="function"?this:n;this.each(function(){if(this.nodeName.toLowerCase()!="select")return this;if(n&&s!="function")return false;var e=this.options;var i=e.length;for(var o=0;o<i;o++){if(r.constructor==RegExp){if(e[o].value.match(r)){n=true;if(s=="function")t.call(e[o],o)}}else{if(e[o].value==r){n=true;if(s=="function")t.call(e[o],o)}}}});return s=="function"?this:n};e.fn.selectedValues=function(){var e=[];this.selectedOptions().each(function(){e[e.length]=this.value});return e};e.fn.selectedTexts=function(){var e=[];this.selectedOptions().each(function(){e[e.length]=this.text});return e};e.fn.selectedOptions=function(){return this.find("option:selected")}})(jQuery)

